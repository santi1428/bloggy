(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{106:function(t,a,e){"use strict";e.r(a);var o=e(28),i=e.n(o),r=e(29),n=e.n(r),c=e(0);e(13);function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,o)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(e,!0).forEach(function(a){l(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var p={name:"UpdatePost",components:{ckeditor:i.a.component},data:function(){return{editor:n.a,switchAutoActualizar:!1,autoActualizarIntervalo:null,idPost:null,postData:"",postDataAntes:"",button:0}},methods:u({onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},actualizar:function(){var t=this;""!=this.postData&&this.postData!==this.postDataAntes&&(this.button=1,this.postDataAntes=this.postData,this.actualizarPublicacion({idPost:this.idPost,postData:this.postData}).then(function(){t.button=0}))},autoActualizar:function(){var t=this;this.switchAutoActualizar?this.autoActualizarIntervalo=window.setInterval(function(){t.actualizar()},1e3):window.clearInterval(this.autoActualizarIntervalo)}},Object(c.b)(["verificarPropietario","traerPublicacion","actualizarPublicacion"])),computed:u({},Object(c.c)(["getUserId"]),{botonActualizar:function(){return 1===this.button||""==this.postData||this.postData===this.postDataAntes}}),mounted:function(){var t=this;this.verificarPropietario(this.idPost).then(function(){t.traerPublicacion(t.idPost).then(function(a){t.postData=a.body,t.postDataAntes=a.body}).catch(function(){return t.$router.push({name:"Posts"})})}).catch(function(a){return t.$router.push({name:"Posts"})})},beforeDestroy:function(){window.clearInterval(this.autoActualizarIntervalo)},created:function(){this.idPost=this.$route.params.id}},b=(e(61),e(1)),d=Object(b.a)(p,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("title",[t._v("Actualizar Publicacion")]),t._v(" "),e("div",{staticClass:"row mt-4 justify-content-center"},[e("div",{staticClass:"col-lg-12"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.actualizar(a)}}},[e("ckeditor",{attrs:{editor:t.editor},on:{ready:t.onReady},model:{value:t.postData,callback:function(a){t.postData=a},expression:"postData"}}),t._v(" "),e("div",{staticClass:"custom-control custom-switch my-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.switchAutoActualizar,expression:"switchAutoActualizar"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"switchAutoActualizar"},domProps:{checked:Array.isArray(t.switchAutoActualizar)?t._i(t.switchAutoActualizar,null)>-1:t.switchAutoActualizar},on:{change:[function(a){var e=t.switchAutoActualizar,o=a.target,i=!!o.checked;if(Array.isArray(e)){var r=t._i(e,null);o.checked?r<0&&(t.switchAutoActualizar=e.concat([null])):r>-1&&(t.switchAutoActualizar=e.slice(0,r).concat(e.slice(r+1)))}else t.switchAutoActualizar=i},t.autoActualizar]}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"switchAutoActualizar"}},[t._v("Actualizar automaticamente")])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-block mt-2",attrs:{type:"submit",disabled:t.botonActualizar}},[1===t.button?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),0===t.button?e("span",[e("i",{staticClass:"fas fa-edit mr-2"}),t._v("Actualizar publicación")]):e("span",[t._v("Actualizando publicación...")])])],1)])])])},[],!1,null,"157b6cae",null);a.default=d.exports},21:function(t,a,e){var o=e(62);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,i);o.locals&&(t.exports=o.locals)},61:function(t,a,e){"use strict";var o=e(21);e.n(o).a},62:function(t,a,e){(t.exports=e(2)(!1)).push([t.i,"\n.ck-editor__editable[data-v-157b6cae] {\n    height: 64vh;\n}\n.custom-control-label[data-v-157b6cae]:before{\n  background-color:white;\n}\n.custom-switch .custom-control-input:checked~.custom-control-label[data-v-157b6cae]::before{\n  background-color:#28A745;\n}\n",""])}}]);